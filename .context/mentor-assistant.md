# 導師輔助輪功能實作計劃

## 🎯 功能概述

建立一個輕量級的導師輔助輪功能，基於 "What-So What-Now What" 框架（但不直接提及框架名稱），幫助使用者在導師視角時避免思考空白，提供結構化的引導提示。

## 🏗️ 架構設計

### 1. 獨立 Store 設計

- **創建** `mentor-assist-store.ts`
- **狀態管理**：
  - 是否啟用輔助功能
  - 當前思考階段 (現況釐清 → 意義洞察 → 行動建議)
  - 自訂提示列表
  - 面板開關狀態

### 2. 功能模組組織

```
src/features/mentor-assist/
├── components/
│   ├── mentor-assist-panel.tsx      # 主輔助面板
│   ├── framework-guide.tsx          # 階段指引元件
│   └── quick-prompts.tsx           # 快速提示元件
├── constants/
│   └── framework-content.ts        # 框架內容定義
├── index.ts                        # Barrel export
└── CLAUDE.md                       # 模組文檔
```

### 3. 類型定義擴展

- 在 `types.ts` 中新增導師輔助相關類型
- 思考框架階段枚舉
- 提示內容介面定義

## 🎨 使用者介面設計

### 主要元件

1. **MentorAssistPanel** - 側邊輔助面板
   - 可收合設計
   - 響應式佈局
   - 僅在導師視角顯示

2. **FrameworkGuide** - 思考框架指引
   - 三階段漸進式引導
   - 視覺化進度指示
   - 動態提示內容

3. **QuickPrompts** - 快速提示工具
   - 常用提示語句
   - 自訂提示管理
   - 一鍵插入功能

## 📱 整合策略

### 與現有功能整合

- **ChatInterface 整合**：在導師視角時顯示輔助按鈕
- **狀態管理整合**：通過 `use-app-state.ts` 統一管理
- **響應式設計**：適配桌面和行動裝置

### 觸發機制

- 導師視角自動啟用
- 手動開關控制
- 智能提示時機（如長時間無輸入）

## 🔧 技術實作重點

### 三階段框架設計

1. **現況釐清階段**
   - 問題分析提示
   - 情境理解引導

2. **意義洞察階段**
   - 深層思考提示
   - 價值探索引導

3. **行動建議階段**
   - 具體方案提示
   - 執行步驟引導

### 擴展性考量

- 模組化設計支援新增框架
- 可配置的提示內容
- 插件式架構預留

## 📋 開發步驟

1. **創建核心 Store** - mentor-assist-store.ts
2. **定義類型系統** - 擴展 types.ts
3. **建立常數配置** - framework-content.ts
4. **開發主要元件** - MentorAssistPanel
5. **實作輔助元件** - FrameworkGuide, QuickPrompts
6. **整合至主介面** - ChatInterface 修改
7. **狀態管理整合** - use-app-state.ts 更新
8. **響應式優化** - 行動裝置適配
9. **測試與優化** - 功能測試和效能調整

## 🎯 預期效果

- 減少導師視角思考空白時間
- 提供結構化思考指引
- 保持使用者介面簡潔
- 支援個人化客製